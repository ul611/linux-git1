#! /usr/bin/awk -f

BEGIN{
FS="$"
}
$3==1{x1+=$6; x2+=1} $3==2{y1+=$6; y2+=1} $3==3{z1+=$6; z2+=1}
{x+=$2}
match($4, ", Miss.")>0 && $6>0{a1+=$6; a2+=1}
END{
print "Количество выживших", x, "человека",
"\nСредний возраст человека в каждом из трех классов обслуживания пассажиров",
"\n- класс 1", int(x1*10/x2)/10, "лет",
"\n- класс 2", int(y1*10/y2)/10, "лет",
"\n- класс 3", int(z1*10/z2)/10, "лет",
"\nСредний возраст незамужней девушки", int(a1*10/a2)/10, "лет"}
